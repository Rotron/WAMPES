<HTML>
<HEAD>
<TITLE>Net Update Reference Manual</TITLE>
</HEAD>
<BODY>
<H1>Net Update Reference Manual</H1>
Version 980309
<BR>
<P>
Dieter Deyke, DK5SG/N0PRA
<BR>
deyke@fc.hp.com
<BR>
<HR><H2>Table of Contents</H2>
<OL>
<LI><A HREF="#H1.">Server</A>
<LI><A HREF="#H2.">Client</A>
</OL>
<HR><H2><A NAME="H1.">1. Server</A></H2>
<OL>
<LI>The following external UNIX programs (supporting the specified
options) have to be installed in either /bin, /usr/bin,
/usr/local/bin, or /usr/contrib/bin:
<UL>
<LI>diff -n
<LI>gzip -9
<LI>compress
</UL>
<LI>Add the following line to /etc/services:
<PRE>
netupds 4715/tcp
</PRE>
<LI>Add the following line to /etc/inetd.conf:
<PRE>
netupds stream tcp nowait root /tcp/util/netupds netupds [-s <I>sourcedir</I>] [-n <I>user</I>]
</PRE>
Options:
<P>
<DL>
<DT><B>-s</B> <I>sourcedir</I>
<DD>Serve files from directory <I>sourcedir</I>. If not specified files
will be served from directory <B>/tcp</B>.
<DT><B>-n</B> <I>user</I>
<DD>Send notification mail to <I>user</I>. If not specified mail will be
send to <B>root</B>.
</DL>
<LI>Reconfigure inetd using the following UNIX command:
<PRE>
inetd -c
</PRE>
<LI>Add the following line to /tcp/net.rc:
<PRE>
start tcpgate netupds
</PRE>
<LI>Restart <B>WAMPES</B> or execute the following command in <B>WAMPES</B>:
<PRE>
start tcpgate netupds
</PRE>
</OL>
<HR><H2><A NAME="H2.">2. Client</A></H2>
<OL>
<LI>The following external UNIX programs (supporting the specified
options) have to be installed in either /bin, /usr/bin,
/usr/local/bin, or /usr/contrib/bin:
<UL>
<LI>gzip -d
<LI>compress -d
</UL>
<LI>Execute the following UNIX command:
<PRE>
/tcp/util/netupdc [-s <I>sourcedir</I>] [-w <I>wampesdir</I>] [-u] [-m] <I>server</I> <I>client</I>
</PRE>
Options:
<DL>
<DT><B>-s</B> <I>sourcedir</I>
<DD>Update files in directory <I>sourcedir</I>. If not specified files will
be updated in directory <B>/tcp</B>.
<DT><B>-w</B> <I>wampesdir</I>
<DD>Directory where <B>WAMPES</B> is installed. If not specified
<B>WAMPES</B> is expected in directory <B>/tcp</B>. Not used when
option <B>-u</B> is specified.
<DT><B>-u</B>
<DD>Use <B>Unix</B> networking to connect to <I>server</I>. If not specified
<B>WAMPES</B> will be used to connect to <I>server</I>.
<DT><B>-m</B>
<DD>Do <B>not</B> start the <B>make</B> program after the update.
<DT><I>server</I>
<DD>Hostname of the net update server. If not specified this defaults to
<B>db0sao</B>.
<DT><I>client</I>
<DD>Hostname of this client. If not specified this defaults to the first
part (up to the first '.' character) of the client hostname (as
returned by the UNIX hostname command). Please note that <I>client</I>
may only consist of letters, digits, and the '-' character.
</DL>
<LI>If you wish you can execute netupdc automatically from cron by putting
the command from 2.2 into your crontab. Example crontab entry:
<PRE>
0 8 * * * exec /tcp/util/netupdc db0sao dk5sg
</PRE>
</OL>
</BODY>
</HTML>
