.\" @(#) $Header: /home/deyke/tmp/cvs/tcp/manuals/wampes/commands/tcp,v 1.10 1995-12-26 11:18:57 deyke Exp $
.H 2 "tcp" " \fIsubcommand\fP"
These commands control the Transmission Control Protocol (TCP) service.
.H 3 "tcp irtt" " [\fImilliseconds\fP]"
Display or set the initial round trip time estimate, in milliseconds, to be
used for new TCP connections until they can measure and adapt to the
actual value. The default is 5000 milliseconds (5 seconds).
Increasing this when operating
over slow channels will avoid the flurry of retransmissions that would
otherwise occur as the smoothed estimate settles down at the correct
value. Note that this command should be given before servers are started in
order for it to have effect on incoming connections.
.P
TCP also keeps a cache of measured smoothed round trip times (SRTT) and mean
deviations (MDEV) for current and recent destinations. Whenever a new
TCP connection is opened, the system first looks in this cache. If the
destination is found, the cached SRTT and MDEV values are used. If not,
the default IRTT value mentioned above is used, along with a MDEV of 0.
This feature is fully automatic, and it can improve performance greatly
when a series of connections are opened and closed to a given destination
(eg. a series of FTP file transfers or directory listings).
.H 3 "tcp irtt \fIhostid\fP" " \fImilliseconds\fP"
Update the SRTT/MDEV cache entry for \fIhostid\fP by simulating a RTT
measurement of \fImilliseconds\fP. If there was no previous cache entry
for \fIhostid\fP, this will result in a new entry having a SRTT of
\fImilliseconds\fP and a MDEV of 0. This command is most useful when
executed from a startup file such as \fBnet.rc\fP.
.H 3 "tcp kick" " \fItcb_addr\fP"
If there is unacknowledged data on the send queue of the specified TCP
control block, this command forces an immediate retransmission.
The control block address can be found with the \fBtcp status\fP command.
.H 3 "tcp mss" " [\fIsize\fP]"
Display or set the TCP Maximum Segment Size in bytes that will be sent on all
outgoing TCP connect request (SYN segments). This tells the remote end the
size of the largest segment (packet) it may send. Changing MSS affects
only future connections, existing connections are unaffected.
The default is 512 bytes.
See the \fBSetting Paclen, Maxframe, MTU, MSS and Window\fP chapter
for more information.
.H 3 "tcp reset" " \fItcb_addr\fP"
Delete the TCP control block at the specified address.
The control block address can be found with the \fBtcp status\fP command.
.H 3 "tcp rtt" " \fItcb_addr\fP \fImilliseconds\fP"
Replaces the automatically computed round trip time in the specified
TCP control block with the rtt in milliseconds.
This command is useful to speed up recovery from a series of lost packets
since it provides a manual bypass around the
normal backoff retransmission timing mechanisms.
.H 3 "tcp status" " [\fItcb_addr\fP [\fImilliseconds\fP]]"
Without arguments, display several TCP-level statistics, plus a summary of
all existing TCP connections, including TCP control block address,
send and receive queue sizes, local and remote sockets, and connection state.
If \fItcb_addr\fP is specified, a more detailed dump of the specified
TCP control block is generated, including send and receive sequence numbers
and timer information.
If \fImilliseconds\fP is specified,
the dump is repeated every \fImilliseconds\fP,
until any keyboard input is made.
.H 3 "tcp syndata" " [on|off]"
Display or set the TCP SYN+data piggybacking flag.
Some TCP implementations cannot handle SYN+data together.
The default is \fBoff\fP.
.H 3 "tcp timestamps" " [on|off]"
Display or set the TCP timestamps flag,
which controls the use of the TCP ECHO option.
The default is \fBoff\fP.
See also RFC1072.
.H 3 "tcp trace" " [on|off]"
Display or set the TCP trace flag.
The default is \fBoff\fP.
.H 3 "tcp window" " [\fIsize\fP]"
Display or set the default receive window size in bytes to be used by TCP
when creating new connections. Existing connections are unaffected.
The default is 2048 bytes.
See the \fBSetting Paclen, Maxframe, MTU, MSS and Window\fP chapter
for more information.
.H 3 "tcp wscale" " [on|off]"
Display or set the TCP wscale flag,
which controls the use of the TCP WINDOW SCALE option.
The default is \fBoff\fP.
See also RFC1072.
