.\" @(#) $Id: netupd,v 1.6 1997-06-25 19:10:07 deyke Exp $
.nr Ej 0 \" No new page for all headers
.H 1 "Server"
.AL
.LI
The following external UNIX programs (supporting the specified options)
have to be installed in either
/bin, /usr/bin, /usr/local/bin, or /usr/contrib/bin:
.BL
.LI
diff -n
.LI
gzip -9
.LI
compress
.LE
.LI
Add the following line to /etc/services:
.DS I
.ft CW
netupds 4715/tcp
.ft P
.DE
.LI
Add the following line to /etc/inetd.conf:
.DS I
.ft CW
netupds stream tcp nowait root /tcp/util/netupds netupds
.ft P
.DE
If you want notification mail to go to some user other than \fBroot\fP, use:
.DS I
.ft CW
netupds stream tcp nowait root /tcp/util/netupds netupds -n \fIuser\fP
.ft P
.DE
.LI
Reconfigure inetd using the following UNIX command:
.DS I
.ft CW
inetd -c
.ft P
.DE
.LI
Add the following line to /tcp/net.rc:
.DS I
.ft CW
start tcpgate netupds
.ft P
.DE
.LI
Restart \fBWAMPES\fP or execute the following command in \fBWAMPES\fP:
.DS I
.ft CW
start tcpgate netupds
.ft P
.DE
.LE
.H 1 "Client"
.AL
.LI
The following external UNIX programs (supporting the specified options)
have to be installed in either
/bin, /usr/bin, /usr/local/bin, or /usr/contrib/bin:
.BL
.LI
gzip -d
.LI
compress -d
.LE
.LI
Execute the following UNIX command:
.DS I
.ft CW
/tcp/util/netupdc \fIserver\fP \fIclient\fP
.ft P
.DE
or
.DS I
.ft CW
/tcp/util/netupdc -m \fIserver\fP \fIclient\fP
.ft P
.DE
where \fIserver\fP is the hostname of the server,
and \fIclient\fP is the hostname of the client.
Please note that \fIclient\fP may only consist of
letters, digits, and the '-' character.
.SP
Without using option \fB-m\fP this will
update all sources in your /tcp directory,
and then call \fBmake\fP to build new \fBWAMPES\fP executables.
If option \fB-m\fP is used only the update portion will be done,
the \fBmake\fP portion will be skipped.
.SP
If \fIclient\fP is not specified, it defaults to the first part
(up to the first '.' character) of the client hostname (as
returned by the UNIX hostname command).
.SP
If \fIserver\fP is not specified, it defaults to "db0sao".
.LI
If you wish you can execute netupdc automatically from cron
by putting the command from 2.2 into your crontab.
Example crontab entry:
.DS I
.ft CW
0 8 * * * exec /tcp/util/netupdc db0sao dk5sg
.ft P
.DE
.LE
